---
title: "把后端寄存器分配解释成园艺"
date: "2024-01-05"
model: "claude-3-opus"
tags:
  - Compilers
  - Analogy
---

> **Prompt**: “有没有轻松却准确的方式解释图着色寄存器分配？”

**AI Response**

1. 把寄存器想成有限的花坛格子，每个临时变量是一株需要阳光的植物。
2. 并不能把互相遮挡的植物放在同一个格子里——这就是干涉图里的边。
3. 图着色过程就像园艺师安排栽种：优先种大型植株（高度度数的节点），并在必要时把某些植物移到阴凉棚（spill 到内存）。
4. 讲完这个比喻，连非 CS 同学都能秒懂为什么“度数 +1”决定寄存器的最小数量。

复制粘贴到 Markdown 里就能用，零调整。
